<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://cdn.glitch.global/d90d2e0e-f080-4624-a28d-9238202ed552/2025_04_13_0xl_Kleki.png?v=1744589448822" type="image/png">
    <title>KwpidCars - Car Card Game</title>
    <style>
     

        .dark-mode {
            --primary: #8ab4f8;
            --primary-dark: #669df6;
            --primary-light: rgba(138, 180, 248, 0.1);
            
            --purchase: #1a9b00;
            --purchase-dark: #106300;
       
            --accent: #ac8100;
            --accent-dark: #856507;
            
            --info: #458cff;
            --error: #d81200;
            --warning: #f9ab00;
            --success: #01942b;

            --error-hover: #920c00;
            
            --text-primary: #e8eaed;
            --text-secondary: #9aa0a6;
            --text-tertiary: #80868b;
            
            --bg-primary: #202124;
            --bg-secondary: #2d2e30;
            --bg-tertiary: #3c4043;
            
            --border: #5f6368;
            --border-hover: #80868b;
            
            --card-shadow: 0 1px 2px rgba(0,0,0,0.3), 0 2px 8px rgba(0,0,0,0.2);
            --card-shadow-hover: 0 1px 3px rgba(0,0,0,0.25), 0 4px 12px rgba(0,0,0,0.2);
            
            --modal-overlay: rgba(0,0,0,0.7);

             /* Rarity colors */
             --common: #5f6368;
            --uncommon: #34a853;
            --rare: #1a73e8;
            --legendary: #a142f4;
            --mythic: #e91e63;

            /* MISC */
            --limited-tag: #cf8712ca;
            --offsale-tag: #c12618;

            /* Main Car / Other Stuff */
            --border: #5f6368;
            --border-hover: #80868b;
            
            --card-shadow: 0 1px 2px rgba(0,0,0,0.3), 0 2px 8px rgba(0,0,0,0.2);
            --card-shadow-hover: 0 1px 3px rgba(0,0,0,0.25), 0 4px 12px rgba(0,0,0,0.2);
            
            --modal-overlay: rgba(0,0,0,0.7);
            --transition: all 0.2s cubic-bezier(0.4,0,0.2,1);
 

        }
        /* SCROLL BARS */
        /* Main scrollbar styling - works in Chrome, Edge, Safari */
::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

::-webkit-scrollbar-track {
    background: var(--primary-dark);
    border-radius: 10px;
}

::-webkit-scrollbar-thumb {
    background: var(--primary-dark);
    border-radius: 10px;
    border: 3px solid var(--primary-dark);
    background-clip: padding-box;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--primary-dark);
}

::-webkit-scrollbar-corner {
    background: var(--primary-dark);
}

/* Firefox support */
html {
    scrollbar-width: thin;
    scrollbar-color: var(--primary) var(--bg-secondary);
}

/* Smooth scrolling */
html {
    scroll-behavior: smooth;
}@media (max-width: 768px) {
    ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }
    
    ::-webkit-scrollbar-thumb {
        border-width: 2px;
    }
}

/* Disable custom scrollbars when user prefers reduced motion */
@media (prefers-reduced-motion: reduce) {
    html {
        scroll-behavior: auto;
    }
}
#customizationModal .modal-body::-webkit-scrollbar-thumb {
    background: var(--primary-darkt);
}

#customizationModal .modal-body {
    scrollbar-color: var(--primary-dark) var(--primary-dark);
}
/* MOBILE FIX FOR INDEX AND TRNASACTION PAGES */
@media (max-width: 768px) {
    .index-table, .transaction-table {
        display: block;
        overflow-x: auto;
        white-space: nowrap;
    }
}
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Google Sans', 'Segoe UI', Roboto, sans-serif;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
            transition: var(--transition);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background-color: var(--bg-secondary);
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 20px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .logo-icon {
            font-size: 24px;
            color: var(--primary);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .balance {
            background-color: var(--primary-light);
            color: var(--primary);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
        }

        .balance-icon {
            font-size: 16px;
        }

      
        .tabs {
            display: flex;
            margin-bottom: 16px;
            border-bottom: 1px solid var(--border);
            gap: 4px;
        }

        .tab {
            padding: 12px 20px;
            cursor: pointer;
            background-color: transparent;
            border: none;
            border-radius: 8px 8px 0 0;
            font-weight: 500;
            transition: var(--transition);
            color: var(--text-secondary);
            position: relative;
            font-size: 14px;
        }

        .tab:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .tab.active {
            color: var(--primary);
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--primary);
        }

        .tab-content {
            display: none;
            padding: 20px;
            background-color: var(--bg-secondary);
            border-radius: 8px;
            box-shadow: var(--card-shadow);
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            margin-bottom: 20px;
            font-size: 24px;
            font-weight: 500;
            color: var(--text-primary);
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border);
        }

        .inventory-grid, .marketplace-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

.card {
    position: relative; /* Add this to make absolute positioning work */
    background-color: var(--bg-primary);
    border-radius: 12px;
    overflow: hidden;
    box-shadow: var(--card-shadow);
    transition: var(--transition);
    border: 1px solid var(--border);
    cursor: pointer;
}

.card-rarity {
    position: absolute;
    top: 15px;
    right: 15px;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: bold;
    color: white;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    z-index: 2;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    opacity: 1; /* Make it always visible */
}

.card-tags {
    display: flex;
    flex-direction: column;
    gap: 4px;
    margin-top: 8px;
    align-items: flex-start;
}



        .card:hover {
            transform: translateY(-4px);
            box-shadow: var(--card-shadow-hover);
            border-color: var(--border-hover);
        }

        .card-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-bottom: 1px solid var(--border);
        }

        .card-content {
            padding: 16px;
        }

        .card-name {
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 4px;
            color: var(--text-primary);
        }

        .card-brand {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 12px;
        }

        .card-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin-bottom: 12px;
        }

        .stat {
            text-align: center;
            background: var(--bg-tertiary);
            padding: 8px;
            border-radius: 6px;
        }

        .stat-label {
            font-size: 11px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .stat-value {
            font-weight: 500;
            color: var(--text-primary);
            font-size: 14px;
        }

         .card-rarity {
    position: absolute;
    top: 15px;
    right: 15px;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: bold;
    color: white;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    z-index: 2;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    opacity: 1; /* Make it always visible */
}

        .rarity-common {
            background-color: var(--common);
        }

        .rarity-uncommon {
            background-color: var(--uncommon);
        }

        .rarity-rare {
            background-color: var(--rare);
        }

        .rarity-legendary {
            background-color: var(--legendary);
        }

        .rarity-mythic {
            background-color: var(--mythic);
        }

  
.tag {
    position: relative;
    top: -10px;
    padding: 3px 8px;
    border-radius: 4px;
    font-size: 10px;
    font-weight: 500;
    text-transform: uppercase;
    color: white;
    letter-spacing: 0.2px;
    display: inline-block;
}


        .tag-limited {
            background-color: var(--limited-tag);
        }

        .tag-off-sale {
            background-color: var(--offsale-tag);
        }

        .tag-success {
            background-color: var(--success);
        }

        .pack-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 16px;
            gap: 8px;
        }

        .btn {
            padding: 10px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 14px;
        }

        .btn-primary {
            background-color: var(--purchase);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--purchase-dark);
            transform: translateY(-2px);
        }

        .btn-accent {
            background-color: var(--accent);
            color: var(--text-primary);
        }

        .btn-accent:hover {
            background-color: var(--accent-dark);
            transform: translateY(-2px);
        }

        .btn-success {
            background-color: var(--success);
            color: white;
        }

        .btn-success:hover {
            background-color: var(--purchase-dark);
            transform: translateY(-2px);
        }

        .btn-warning {
            background-color: var(--error);
            color: var(--text-primary);
        }

        .btn-warning:hover {
            background-color: var(--error-hover);
            transform: translateY(-2px);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--modal-overlay);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(4px);
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background-color: var(--bg-primary);
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 24px;
            position: relative;
            box-shadow: var(--modal-shadow);
            border: 1px solid var(--border);
        }

        .close-modal {
            position: absolute;
            top: 16px;
            right: 16px;
            font-size: 24px;
            cursor: pointer;
            background: none;
            border: none;
            color: var(--text-secondary);
            opacity: 0.7;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-modal:hover {
            opacity: 1;
            background-color: var(--bg-tertiary);
        }

        .modal-title {
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-body {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .modal-card {
            display: flex;
            gap: 20px;
        }

        .modal-card-image {
            width: 300px;
            height: 200px;
            object-fit: contain;
            border-radius: 8px;
            background-color: #000000;
            flex-shrink: 0;
            border: 1px solid var(--border);
        }

        /* Updated Inventory Card Modal Styles */
        .modal-card-details {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .modal-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 16px;
            margin-bottom: 8px;
        }

        .modal-card-title {
            flex: 1;
        }

        .modal-card-name {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--text-primary);
            line-height: 1.2;
        }

        .modal-card-brand {
            font-size: 16px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .modal-card-meta {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
        }

        /* Improved Tabs */
        .inventory-tabs {
            display: flex;
            margin: 0 -24px;
            padding: 0 24px;
            border-bottom: 1px solid var(--border);
            gap: 4px;
        }

        .inventory-tab {
            padding: 10px 16px;
            background: none;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            font-weight: 500;
            color: var(--text-secondary);
            transition: var(--transition);
            position: relative;
            font-size: 14px;
        }

        .inventory-tab:hover {
            color: var(--text-primary);
        }

        .inventory-tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .inventory-tab-content {
            display: none;
            padding: 8px 0;
            animation: fadeIn 0.3s ease;
          padding: 16px 0;
        }
.inventory-tab:hover,
.inventory-tab:focus {
    color: var(--text-primary);
    border-bottom-color: var(--accent-color);
}
        .inventory-tab-content.active {
            display: block;
        }

        /* Improved Stats Display */
        .modal-stat-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 12px;
        }

        .modal-stat {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 12px;
            border: 1px solid var(--border);
        }

        .modal-stat-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .modal-stat-label {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .modal-stat-value {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .modal-stat-bar {
            height: 6px;
            background: var(--bg-tertiary);
            border-radius: 3px;
            margin-top: 8px;
            overflow: hidden;
        }

        .modal-stat-bar-fill {
            height: 100%;
            background: var(--primary);
          transition: width 0.4s ease-in-out;
            border-radius: 3px;
        }

        /* Improved Description Section */
        .modal-card-description {
            font-size: 14px;
            line-height: 1.6;
            color: var(--text-primary);
            opacity: 0.9;
            padding: 12px;
            background: var(--bg-secondary);
            border-radius: 8px;
            border: 1px solid var(--border);
        }

        /* Improved Storage Comparison */
        .storage-comparison {
            margin-top: 12px;
            background: var(--bg-secondary);
            padding: 12px;
            border-radius: 8px;
            border: 1px solid var(--border);
        }

        .comparison-title {
            font-weight: 500;
            margin-bottom: 10px;
            color: var(--text-primary);
            font-size: 14px;
        }

        .comparison-bars {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .comparison-bar {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .bar-label {
            width: 100px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .bar-container {
            flex: 1;
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            background: var(--primary);
            border-radius: 4px;
        }

        .bar-value {
            width: 60px;
            text-align: right;
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* Improved Footer */
        .modal-card-footer {
            margin-top: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .card-info-row {
  display: flex;
  justify-content: center; /* Optional: center content horizontally */
  align-items: center;
  font-size: 12px;
  color: var(--text-secondary);
  padding-top: 8px;
  border-top: 1px solid var(--border);
  gap: 6px;
}

.card-obtained,
.card-mileage,
      .dot-separator{
  text-align: center;
  font-size: 12px;
            color: var(--text-secondary);
            opacity: 0.7;
            margin-top: 12px;
            font-style: italic;
}

.dot-separator {
  line-height: 1;
}


        /* Improved Actions */
        .inventory-card-actions {
            display: flex;
            gap: 12px;
            margin-top: 16px;
        }

        .inventory-card-actions .btn {
            flex: 1;
            padding: 10px;
            font-size: 14px;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .modal-card {
                flex-direction: column;
            }
            
            .modal-card-image {
                width: 100%;
                height: 200px;
            }
            
            .modal-stat-grid {
                grid-template-columns: 1fr;
            }
            
            .inventory-card-actions {
                flex-direction: column;
            }
        }

        .inventory-controls {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
    flex-wrap: wrap;
    align-items: center;
}

.search-box {
    position: relative;
    flex: 1;
    min-width: 200px;
    max-width: 300px;
}

.search-box input {
    width: 100%;
    padding: 8px 30px 8px 12px;
    border-radius: 6px;
    border: 1px solid var(--border);
    background-color: var(--bg-secondary);
    color: var(--text-primary);
}

.search-box button {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: var(--text-secondary);
    cursor: pointer;
    padding: 0;
}

.inventory-controls select {
    padding: 8px 12px;
    border-radius: 6px;
    border: 1px solid var(--border);
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    min-width: 150px;
}

@media (max-width: 768px) {
    .inventory-controls {
        flex-direction: column;
        align-items: stretch;
    }
    
    .search-box {
        max-width: 100%;
    }
    
    .inventory-controls select {
        width: 100%;
    }
}

        .pack-contents {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }

        .pack-card {
            background-color: var(--bg-tertiary);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--card-shadow);
            border: 1px solid var(--border);
        }

        .pack-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--card-shadow-hover);
            background-color: var(--bg-secondary);
        }

        .pack-card-image {
            width: 100%;
            height: 100px;
            object-fit: contain;
            margin-bottom: 12px;
        }

        .pack-card-brand {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 6px;
        }.pack-card-name {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    text-align: center;
    width: 100%;
    font-size: clamp(0.6rem, 1.8vw, 1rem); /* scales with viewport width but stays within limits */
    font-weight: bold;
}


        .pack-card-rarity {
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 20px;
            display: inline-block;
            color: white;
            margin-bottom: 4px;
        }

        .opening-animation {
            text-align: center;
            padding: 20px;
        }

        .opening-card {
            max-width: 300px;
            margin: 0 auto;
            animation: cardReveal 0.5s ease-out;
            position: relative;
            background-color: var(--bg-primary);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--card-shadow-hover);
            border: 1px solid var(--border);
        }

        @keyframes cardReveal {
            0% {
                transform: scale(0.5) rotate(-10deg);
                opacity: 0;
            }
            100% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
        }

        .opening-controls {
            margin-top: 20px;
        }

        .cards-lineup {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            justify-content: center;
            margin-top: 20px;
        }

        .lineup-card {
            width: 160px;
            position: relative;
            background-color: var(--bg-primary);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            border: 1px solid var(--border);
        }

        .index-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            box-shadow: var(--card-shadow);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .index-table th, .index-table td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .index-table th {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 12px;
        }

        .index-table tr:nth-child(even) {
            background-color: var(--bg-secondary);
        }

        .index-table tr:hover {
            background-color: var(--bg-tertiary);
        }

        .index-table .rarity-cell {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .empty-message, .empty-message2 {
            text-align: center;
            padding: 40px;
            color: var(--text-secondary);
            opacity: 0.7;
            font-size: 16px;
            grid-column: 1 / -1;
        }

        .inventory-card-actions {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }

        

        .card-value {
            margin-top: 8px;
            font-weight: 500;
            color: var(--accent);
            font-size: 14px;
        }

        /* Notification System */
        .notifications {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 2000;
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-width: 350px;
        }

        .notification {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            padding: 16px;
            border-radius: 8px;
            box-shadow: var(--modal-shadow);
            display: flex;
            align-items: center;
            gap: 12px;
            transform: translateX(100%);
            opacity: 0;
            animation: slideIn 0.4s forwards, fadeOut 0.5s forwards 2.7s;
            position: relative;
            overflow: hidden;
            border-left: 4px solid;
            border: 1px solid var(--border);
        }

        .notification::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--border);
        }

        .notification::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--primary);
            animation: progress 3s linear forwards;
        }

        .notification-success {
            border-left-color: var(--success);
        }

        .notification-error {
            border-left-color: var(--error);
        }

        .notification-warning {
            border-left-color: var(--error);
        }

        .notification-info {
            border-left-color: var(--info);
        }

        .notification-icon {
            font-size: 20px;
        }

        .notification-content {
            flex: 1;
        }

        .notification-title {
            font-weight: 500;
            margin-bottom: 4px;
            font-size: 14px;
        }

        .notification-message {
            font-size: 13px;
            opacity: 0.9;
        }

        @keyframes slideIn {
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: translateX(100%);
            }
        }

        @keyframes progress {
            to {
                width: 0;
            }
        }

 /* Confirmation Dialog - Mobile Fixes */
.confirmation-dialog {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0,0,0,0.7);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    padding: 20px;
    box-sizing: border-box;
}

.confirmation-content {
    background-color: var(--bg-primary);
    padding: 24px;
    border-radius: 12px;
    max-width: 100%;
    width: 100%;
    max-width: 400px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    animation: slideUp 0.3s ease;
}

.confirmation-actions {
    display: flex;
    gap: 12px;
    margin-top: 20px;
}

.confirmation-actions .btn {
    flex: 1;
    padding: 12px;
    font-size: 16px;
}

/* Mobile-specific styles */
@media (max-width: 768px) {
    .confirmation-content {
        padding: 20px;
    }
    
    .confirmation-title {
        font-size: 18px;
    }
    
    .confirmation-message {
        font-size: 14px;
    }
    
    .confirmation-actions {
        flex-direction: column;
        gap: 8px;
    }
    
    .confirmation-actions .btn {
        width: 100%;
    }
}

/* Prevent background scrolling when dialog is open */
body.dialog-open {
    overflow: hidden;
    position: fixed;
    width: 100%;
    height: 100%;
}

/* Customization Modal - Complete Revamp */
#customizationModal .modal-content {
    max-width: 900px;
    width: 95%;
    padding: 0;
    overflow: hidden;
    max-height: 90vh; /* Ensure it doesn't exceed viewport height */
    display: flex;
    flex-direction: column;
}

#customizationModal .modal-title {
    padding: 20px 24px 0;
}

#customizationModal .modal-body {
    overflow-y: auto;
    -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
    padding: 0 24px 24px; /* Add bottom padding */
    flex: 1; /* Take up remaining space */
}

/* Tab Navigation - Improved */
.customization-tabs {
    display: flex;
    margin: 20px 24px 0;
    border-bottom: 1px solid var(--border);
    gap: 8px;
}

.customization-tab {
    padding: 10px 20px;
    cursor: pointer;
    background-color: transparent;
    border: none;
    border-radius: 8px 8px 0 0;
    font-weight: 500;
    transition: all 0.2s ease;
    color: var(--text-secondary);
    position: relative;
    font-size: 14px;
    margin-bottom: -1px;
}

.customization-tab:hover {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
}

.customization-tab.active {
    color: var(--primary);
    border-bottom: 2px solid var(--primary);
    background-color: var(--bg-primary);
}

.customization-tab-content {
    display: none;
    animation: fadeIn 0.3s ease;
}

.customization-tab-content.active {
    display: block;
}

/* Main Container Layout */
.customization-container {
    display: grid;
    grid-template-columns: 1fr;
    gap: 24px;
    padding: 0;
    min-height: 0; /* Important for scrolling */
}


@media (max-width: 768px) {
    .customization-container {
        grid-template-columns: 1fr;
    }
}

/* Car Preview Section - Enhanced */
.car-preview {
    display: flex;
    justify-content: center;
    align-items: center;
    background: var(--bg-secondary);
    border-radius: 12px;
    padding: 24px;
    box-shadow: var(--card-shadow);
    min-height: 320px;
    border: 1px solid var(--border);
    position: relative;
    overflow: hidden;
}

.car-preview::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 40%;
    background: linear-gradient(to bottom, rgba(0,0,0,0.1), transparent);
    z-index: 1;
}

.car-preview .modal-card-image {
    max-width: 100%;
    max-height: 300px;
    object-fit: contain;
    transition: transform 0.3s ease;
    z-index: 2;
}

.car-preview:hover .modal-card-image {
    transform: scale(1.03);
}

/* Customization Options Section */
.customization-options {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* Options Sections - Unified Style */
.parts-section, 
.trims-section, 
.colors-section {
    background: var(--bg-secondary);
    padding: 16px;
    border-radius: 12px;
    border: 1px solid var(--border);
}

.section-title {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 16px;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: 8px;
}

/* Parts Tabs - Improved */
.parts-tabs {
    display: flex;
    gap: 8px;
    margin-bottom: 16px;
    padding-bottom: 4px;
    overflow-x: auto;
    scrollbar-width: thin;
    scrollbar-color: var(--primary) var(--bg-secondary);
}

.parts-tabs::-webkit-scrollbar {
    height: 4px;
}

.parts-tabs::-webkit-scrollbar-thumb {
    background-color: var(--primary);
    border-radius: 2px;
}

.parts-tab {
    padding: 8px 16px;
    background: var(--bg-tertiary);
    border: none;
    border-radius: 20px;
    cursor: pointer;
    white-space: nowrap;
    color: var(--text-primary);
    font-size: 13px;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.parts-tab:hover {
    background: var(--bg-quaternary);
}

.parts-tab.active {
    background: var(--primary);
    color: white;
    font-weight: 500;
}

.parts-tab-content {
    display: none;
    animation: fadeIn 0.3s ease;
}

.parts-tab-content.active {
    display: block;
}

/* Color Grid - Enhanced */
.color-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
    gap: 12px;
    margin-top: 12px;
}

.color-swatch {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 2px solid var(--border);
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.color-swatch:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.color-swatch.selected {
    border: 3px solid var(--accent);
    transform: scale(1.15);
    box-shadow: 0 0 0 2px var(--bg-primary), 0 4px 8px rgba(0,0,0,0.2);
}

.color-swatch::after {
    content: "✓";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 14px;
    font-weight: bold;
    opacity: 0;
    text-shadow: 0 1px 2px rgba(0,0,0,0.5);
    transition: opacity 0.2s ease;
}

.color-swatch.selected::after {
    opacity: 1;
}

/* Transaction Overview - Improved */
.transaction-overview {
    background: var(--bg-secondary);
    padding: 16px;
    border-radius: 12px;
    margin-top: 16px;
    border: 1px solid var(--border);
}

.transaction-items {
    margin: 12px 0;
}

.transaction-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px solid var(--border);
    font-size: 14px;
}

.transaction-item:last-child {
    border-bottom: none;
}

.transaction-total {
    display: flex;
    justify-content: space-between;
    font-weight: 600;
    padding-top: 12px;
    margin-top: 8px;
    border-top: 2px solid var(--border-accent);
    font-size: 16px;
}

.cost-amount {
    color: var(--accent);
    font-weight: 600;
}

/* Upgrade Tab - Enhanced */
.upgrade-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    padding: 16px;
}

@media (max-width: 768px) {
    .upgrade-container {
        grid-template-columns: 1fr;
    }
}

.upgrade-stats {
    display: grid;
    grid-template-columns: 1fr;
    gap: 16px;
}

.upgrade-stat {
    background: var(--bg-secondary);
    padding: 16px;
    border-radius: 12px;
    border: 1px solid var(--border);
    transition: transform 0.2s ease;
}

.upgrade-stat:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.upgrade-stat-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 12px;
    align-items: center;
}

.upgrade-stat-name {
    font-weight: 600;
    font-size: 15px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.upgrade-stat-level {
    color: var(--accent);
    font-weight: 600;
    font-size: 14px;
}

.upgrade-stat-value {
    font-size: 24px;
    font-weight: 600;
    margin: 8px 0;
    color: var(--text-primary);
}

.upgrade-stat-bar {
    height: 6px;
    background: var(--bg-tertiary);
    border-radius: 3px;
    margin: 8px 0;
    overflow: hidden;
}

.upgrade-stat-progress {
    height: 100%;
    background: var(--primary);
    border-radius: 3px;
    transition: width 0.3s ease;
}

.upgrade-stat-cost {
    margin-top: 12px;
    text-align: right;
    color: var(--text-secondary);
    font-size: 14px;
}

.upgrade-btn {
    width: 100%;
    margin-top: 12px;
}

.upgrade-preview {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: var(--bg-secondary);
    border-radius: 12px;
    padding: 20px;
    border: 1px solid var(--border);
}

#upgradeCarImage {
    width: 100%;
    max-height: 250px;
    object-fit: contain;
    margin-bottom: 20px;
    transition: transform 0.3s ease;
}

#upgradeCarImage:hover {
    transform: scale(1.05);
}

.upgrade-overall {
    font-size: 20px;
    font-weight: 600;
    background: var(--primary);
    color: white;
    padding: 10px 20px;
    border-radius: 8px;
    width: 100%;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

/* Animations */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideUp {
    from { 
        transform: translateY(20px);
        opacity: 0;
    }
    to { 
        transform: translateY(0);
        opacity: 1;
    }
}

/* Responsive Adjustments */
@media (max-width: 1024px) {
    .customization-container {
        gap: 16px;
        padding: 16px;
    }
    
    .car-preview {
        min-height: 280px;
    }
    
    .color-grid {
        grid-template-columns: repeat(5, 1fr);
    }
}

@media (max-width: 768px) {
    .customization-tabs {
        margin: 16px 16px 0;
    }
    
    .parts-tabs {
        gap: 6px;
    }
    
    .color-grid {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .upgrade-stat-value {
        font-size: 20px;
    }
}

@media (max-width: 480px) {
    .customization-tab {
        padding: 8px 12px;
        font-size: 13px;
    }
    
    .color-grid {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .transaction-item {
        font-size: 13px;
    }
    
    .upgrade-stat {
        padding: 12px;
    }
    
    .upgrade-stat-name {
        font-size: 14px;
    }
    
    .upgrade-stat-value {
        font-size: 18px;
    }
}
        @media (max-width: 1200px) {
            .customization-container {
                flex-direction: column;
            }
            
            .customization-left, .customization-right {
                width: 100%;
            }
            
            .car-preview {
                order: -1;
                min-height: 250px;
            }
            
            .car-preview .modal-card-image {
                max-height: 250px;
            }
            
            .color-grid {
                grid-template-columns: repeat(6, 1fr);
            }
        }

        @media (max-width: 1024px) {
            .modal-card {
                flex-direction: column;
            }
            
            .modal-card-image {
                width: 100%;
                height: 200px;
            }
            
            .upgrade-container {
                flex-direction: column;
            }
            
            .upgrade-preview {
                width: 100%;
            }
        }

        @media (max-width: 768px) {
            .inventory-grid, .marketplace-grid {
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            }
            
            .header-content {
                flex-direction: column;
                gap: 12px;
            }
            
            .tabs {
                flex-wrap: wrap;
            }
            
            .tab {
                flex: 1;
                min-width: 100px;
                text-align: center;
            }
            
            .pack-actions {
                flex-direction: column;
            }
            
            .confirmation-actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
            
            .color-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 480px) {
            .inventory-grid, .marketplace-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                padding: 16px;
            }
            
            .modal-card-stats {
                grid-template-columns: 1fr;
            }
            
            .pack-contents {
                grid-template-columns: 1fr;
            }
            
            .cards-lineup {
                flex-direction: column;
                align-items: center;
            }
            
            .lineup-card {
                width: 100%;
                max-width: 240px;
            }
            
            .color-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
.modal-content .card-rarity {
    position: static;
    display: inline-block;
    margin-left: 8px;
    vertical-align: middle;
    top: auto;
    right: auto;
    transform: none;
}
.card .card-rarity {
    position: absolute;
    top: 15px;
    right: 15px;
    opacity: 1; /* Make it always visible */
    transition: var(--transition);
}
.card:hover .card-rarity {
    opacity: 1;
}
        .index-table .rarity-cell {
            display: flex;
            align-items: center;
            gap: 5px;
        }
       .pack-card-rarity {
            font-size: 12px;
            padding: 3px 8px;
            border-radius: 20px;
            display: inline-block;
            color: white;
            margin-bottom: 5px;
        }
      .index-table .rarity-cell .card-rarity {
    position: static;
    display: inline-block;
    top: auto;
    right: auto;
}
      /* Settings Tab Styles */
.settings-tabs {
    display: flex;
    margin-bottom: 20px;
    border-bottom: 1px solid var(--border);
    gap: 4px;
}

.settings-tab {
    padding: 10px 16px;
    cursor: pointer;
    background-color: transparent;
    border: none;
    border-radius: 8px 8px 0 0;
    font-weight: 500;
    transition: var(--transition);
    color: var(--text-secondary);
    position: relative;
    font-size: 14px;
}

.settings-tab:hover {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
}

.settings-tab.active {
    color: var(--primary);
}

.settings-tab.active::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: var(--primary);
}

.settings-subcontent {
    background-color: var(--bg-secondary);
    border-radius: 8px;
    padding: 20px;
    box-shadow: var(--card-shadow);
}

.settings-subtab {
    display: none;
    animation: fadeIn 0.3s ease;
}

.settings-subtab.active {
    display: block;
}

.settings-section {
    margin-bottom: 24px;
    padding-bottom: 16px;
    border-bottom: 1px solid var(--border);
}

.settings-section:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
}

.settings-section h3 {
    margin-bottom: 16px;
    font-size: 18px;
    color: var(--text-primary);
}

.settings-option {
    display: flex;
    align-items: center;
    margin-bottom: 12px;
}

.settings-option label {
    margin-right: 12px;
    min-width: 100px;
    color: var(--text-primary);
}

.settings-select, .settings-input {
    padding: 8px 12px;
    border-radius: 6px;
    border: 1px solid var(--border);
    background-color: var(--bg-primary);
    color: var(--text-primary);
    font-size: 14px;
    transition: var(--transition);
}

.settings-select {
    min-width: 200px;
}

.settings-input {
    flex: 1;
    max-width: 300px;
}

.theme-options {
    display: flex;
    gap: 8px;
}

.theme-option {
    padding: 8px 16px;
    border-radius: 6px;
    border: 1px solid var(--border);
    cursor: pointer;
    transition: var(--transition);
    font-weight: 500;
}

.theme-option.dark {
    background-color: #202124;
    color: white;
}

.theme-option.light {
    background-color: white;
    color: #202124;
}

.theme-option.active {
    border-color: var(--primary);
    box-shadow: 0 0 0 2px var(--primary-light);
}

/* Data Tab Styles */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 16px;
}

.stat-card {
    background-color: var(--bg-primary);
    border-radius: 8px;
    padding: 16px;
    border: 1px solid var(--border);
    box-shadow: var(--card-shadow);
}

.stat-card .stat-label {
    font-size: 14px;
    color: var(--text-secondary);
    margin-bottom: 8px;
}

.stat-card .stat-value {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-primary);
}

/* Transactions Tab Styles */
.transaction-filters {
    display: flex;
    gap: 16px;
    margin-bottom: 20px;
    flex-wrap: wrap;
}

.filter-group {
    display: flex;
    align-items: center;
    gap: 8px;
}

.filter-group label {
    color: var(--text-primary);
    font-size: 14px;
}

.transaction-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 16px;
    box-shadow: var(--card-shadow);
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid var(--border);
}

.transaction-table th, .transaction-table td {
    padding: 12px 16px;
    text-align: left;
    border-bottom: 1px solid var(--border);
}

.transaction-table th {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-size: 12px;
}

.transaction-table tr:nth-child(even) {
    background-color: var(--bg-secondary);
}

.transaction-table tr:hover {
    background-color: var(--bg-tertiary);
}

.transaction-table .type-purchase {
    color: var(--error);
}

.transaction-table .type-sale {
    color: var(--success);
}

.empty-transactions {
    text-align: center;
    padding: 40px;
    color: var(--text-secondary);
    opacity: 0.7;
    font-size: 16px;
}
      .notification-types {
    margin-left: 20px;
    border-left: 2px solid var(--border);
    padding-left: 15px;
    margin-top: 10px;
}

.notification-types .settings-option {
    margin-bottom: 8px;
}
 /* Hide the default checkbox */
input[type="checkbox"] {
    appearance: none;
    -webkit-appearance: none;
    width: 40px;
    height: 20px;
    background-color: #444;
    border-radius: 20px;
    position: relative;
    cursor: pointer;
    transition: background-color 0.3s ease;
    vertical-align: middle;
    margin-right: 10px;
}

/* Circle inside */
input[type="checkbox"]::before {
    content: "";
    position: absolute;
    width: 16px;
    height: 16px;
    background-color: #ccc;
    border-radius: 50%;
    top: 2px;
    left: 2px;
    transition: transform 0.3s ease, background-color 0.3s ease;
}

/* Checked styles */
input[type="checkbox"]:checked {
    background-color: #1a73e8;
}

input[type="checkbox"]:checked::before {
    transform: translateX(20px);
    background-color: white;
}

/* Label spacing and style */
.settings-option label {
    display: flex;
    align-items: center;
    font-size: 15px;
    color: #eee;
    gap: 10px;
}
     /* Rewards Tab Styles */
.daily-rewards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 12px;
    margin-bottom: 20px;
}

.reward-day {
    background-color: var(--bg-primary);
    border-radius: 8px;
    padding: 12px;
    border: 1px solid var(--border);
    text-align: center;
    transition: var(--transition);
}

.reward-day-number {
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 8px;
}

.reward-day-content {
    color: var(--text-secondary);
    font-size: 14px;
    margin-bottom: 8px;
}

.reward-day-status {
    font-size: 12px;
    padding: 4px 8px;
    border-radius: 12px;
    display: inline-block;
}

.reward-day-status[data-status="claimed"] {
    background-color: var(--success-light);
    color: var(--success);
}

.reward-day-status[data-status="available"] {
    background-color: var(--primary-light);
    color: var(--primary);
    cursor: pointer;
}

.reward-day-status[data-status="locked"] {
    background-color: var(--bg-tertiary);
    color: var(--text-secondary);
}

.redeem-code-container {
    max-width: 500px;
}

#redeemCodeInput {
    margin-right: 10px;
    flex: 1;
}

#redeemCodeBtn {
    margin-top: 10px;
}

.redeem-message {
    margin-top: 15px;
    padding: 10px;
    border-radius: 6px;
    display: none;
}

.redeem-message.success {
    background-color: var(--success-light);
    color: var(--success);
    display: block;
}

.redeem-message.error {
    background-color: var(--error-light);
    color: var(--error);
    display: block;
}
      /* Mission Tab Styles */
.mission-tabs {
    display: flex;
    margin-bottom: 16px;
    border-bottom: 1px solid var(--border);
    gap: 4px;
}

.mission-tab {
    padding: 10px 16px;
    cursor: pointer;
    background-color: transparent;
    border: none;
    border-radius: 8px 8px 0 0;
    font-weight: 500;
    transition: var(--transition);
    color: var(--text-secondary);
    position: relative;
    font-size: 14px;
}

.mission-tab:hover {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
}

.mission-tab.active {
    color: var(--primary);
}

.mission-tab.active::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: var(--primary);
}

.mission-subcontent {
    background-color: var(--bg-secondary);
    border-radius: 8px;
    padding: 20px;
    box-shadow: var(--card-shadow);
}

.mission-subtab {
    display: none;
    animation: fadeIn 0.3s ease;
}

.mission-subtab.active {
    display: block;
}

/* Job Card Styles */
.job-card {
    background-color: var(--bg-primary);
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 12px;
    border: 1px solid var(--border);
    box-shadow: var(--card-shadow);
    transition: var(--transition);
}

.job-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--card-shadow-hover);
}

.job-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
}

.job-name {
    font-weight: 600;
    color: var(--text-primary);
    font-size: 16px;
}

.job-reward {
    color: var(--accent);
    font-weight: 600;
}

.job-description {
    margin-bottom: 12px;
    color: var(--text-secondary);
    font-size: 14px;
}

.job-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.job-time {
    font-size: 13px;
    color: var(--text-tertiary);
}

/* Job button styles */
.job-btn {
    padding: 6px 12px !important;
    font-size: 13px !important;
    width: auto !important;
    min-width: 80px;
    flex: 0 0 auto !important;
    margin-left: auto;
}

.job-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
}

.job-time {
    white-space: nowrap;
}
/* Assign Car Modal */
.assign-car-modal .modal-content {
    max-width: 600px;
}

.assign-car-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 12px;
    margin-top: 16px;
    max-height: 400px;
    overflow-y: auto;
    padding: 8px;
}

.assign-car-card {
    background-color: var(--bg-tertiary);
    border-radius: 8px;
    padding: 12px;
    cursor: pointer;
    transition: var(--transition);
    border: 1px solid var(--border);
}

.assign-car-card:hover {
    background-color: var(--bg-secondary);
    border-color: var(--border-hover);
}

.assign-car-card.selected {
    border: 2px solid var(--primary);
    background-color: var(--primary-light);
}

.assign-car-image {
    width: 100%;
    height: 80px;
    object-fit: contain;
    margin-bottom: 8px;
}

.assign-car-name {
    font-weight: 500;
    font-size: 14px;
    margin-bottom: 4px;
}

.assign-car-ovr {
    font-size: 12px;
    color: var(--text-secondary);
}

.no-cars-available {
    text-align: center;
    padding: 20px;
    color: var(--text-secondary);
    grid-column: 1 / -1;
}

.job-progress {
    height: 4px;
    background-color: var(--bg-tertiary);
    border-radius: 2px;
    margin-top: 8px;
    overflow: hidden;
}

.job-progress-bar {
    height: 100%;
    background-color: var(--primary);
    border-radius: 2px;
    transition: width 0.3s ease;
}
     /* Add to the style section */
.pagination-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin-top: 20px;
    padding: 10px;
    background-color: var(--bg-secondary);
    border-radius: 8px;
}

#pageInfo {
    font-size: 14px;
    color: var(--text-primary);
} 
      /* Add these styles */
.transaction-table .type-income {
    color: var(--success);
}

.transaction-table .type-expense {
    color: var(--error);
}

.transaction-table .type-payment {
    color: var(--primary);
}

.transaction-table .type-job {
    color: var(--accent);
}

.transaction-table .type-code {
    color: var(--info);
}
      .job-requirements {
        font-size: 12px;
        color: var(--text-secondary);
        margin-top: 8px;
    }
    
    .assign-car-storage {
        font-size: 12px;
        color: var(--text-secondary);
    }
    
    .index-table th:nth-child(7),
    .index-table td:nth-child(7) {
        text-align: center;
    }
      .assign-car-specs {
        display: flex;
        justify-content: space-between;
        margin-top: 5px;
        font-size: 12px;
    }
    
    .assign-car-storage {
        font-weight: bold;
    }
    
    .storage-minimum {
        color: var(--warning);
    }
    
    .storage-adequate {
        color: var(--success);
    }
    
    .storage-high {
        color: var(--primary);
    }
    
    .storage-bonus {
        font-size: 10px;
        color: var(--accent);
        text-align: center;
        margin-top: 3px;
        font-weight: bold;
    }
    
    .no-cars-available {
        text-align: center;
        padding: 20px;
        color: var(--text-secondary);
        grid-column: 1 / -1;
    }
       /* Inventory Card Tabs */
    .inventory-tabs {
        display: flex;
        margin: 15px 0 10px 0;
        border-bottom: 1px solid var(--border);
    }
    
    .inventory-tab {
        padding: 8px 16px;
        background: none;
        border: none;
        border-bottom: 2px solid transparent;
        cursor: pointer;
        color: var(--text-secondary);
        font-weight: 500;
        transition: all 0.2s ease;
    }
    
    .inventory-tab:hover {
        color: var(--text-primary);
    }
    
    .inventory-tab.active {
        color: var(--primary);
        border-bottom-color: var(--primary);
    }
    
    .inventory-tab-content {
        display: none;
        animation: fadeIn 0.3s ease;
    }
    
    .inventory-tab-content.active {
        display: block;
    }
    
    .storage-display {
    margin-top: 20px;
    background: var(--bg-secondary);
    padding: 12px;
    border-radius: 8px;
    border: 1px solid var(--border);
}

.storage-title {
    font-weight: 500;
    margin-bottom: 8px;
    color: var(--text-primary);
}

.storage-bar-container {
    height: 20px;
    background: var(--bg-tertiary);
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 8px;
}

.storage-bar {
    height: 100%;
    background: var(--primary);
    border-radius: 10px;
    transition: width 0.3s ease;
}

.storage-value {
    text-align: center;
    font-weight: 500;
    color: var(--text-primary);
}
    
    .comparison-title {
        font-weight: 500;
        margin-bottom: 10px;
        color: var(--text-primary);
    }
    
    .comparison-bars {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }
    
    .comparison-bar {
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .bar-label {
        width: 80px;
        font-size: 12px;
        color: var(--text-secondary);
    }
    
    .bar-container {
        flex: 1;
        height: 12px;
        background: var(--bg-tertiary);
        border-radius: 6px;
        overflow: hidden;
    }
    
    .bar-fill {
        height: 100%;
        background: var(--primary);
        border-radius: 6px;
    }
    
    .bar-value {
        width: 60px;
        text-align: right;
        font-size: 12px;
        color: var(--text-secondary);
    }
.card-info {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.dot-separator {
  font-size: 1.2em;
  line-height: 1;
}
.storage-insufficient {
    opacity: 0.6;
    position: relative;
}

.storage-insufficient::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.3);
}

.storage-warning {
    color: var(--error);
    font-size: 12px;
    font-weight: bold;
    margin-top: 5px;
    text-align: center;
}
/* Footer Styles */
.tab-footer {
    background-color: var(--bg-secondary);
    padding: 20px;
    margin-top: 20px;
    border-top: 1px solid var(--border);
    border-radius: 0 0 8px 8px;
    color: var(--text-secondary);
    font-size: 12px;
    text-align: center;
    display: none; /* Initially hidden */
}

.tab-footer.active {
    display: block;
}

.tab-footer p {
    margin: 5px 0;
}

.tab-footer a {
    color: var(--primary);
    text-decoration: none;
}

.tab-footer a:hover {
    text-decoration: underline;
}
      .notification-pinned {
    background-color: #444;
    border-left: 4px solid #ffd700;
}
/* Add to your CSS */
.jobs-header, .races-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    background: #f5f5f5;
    border-radius: 4px;
    margin-bottom: 10px;
}

.jobs-counter, .races-counter {
    font-weight: bold;
  color: black;
}

.job-buttons {
    display: flex;
    gap: 5px;
}
.missions-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    background: var(--bg-primary);
    border-radius: 4px;
    margin-bottom: 10px;
}

.missions-counter {
    font-weight: bold;
    color: black;
}

.mission-buttons {
    display: flex;
    gap: 5px;
}
.mission-details {
    background: var(--bg-primary);
    padding: 12px 16px;
    border-radius: 8px;
    margin-top: 10px;
    color: white;
    backdrop-filter: blur(6px);
}

.mission-details p {
    margin: 6px 0;
    font-size: 14px;
    line-height: 1.4;
}



.btn-small {
    padding: 5px 10px;
    font-size: 12px;
}
.quick-menu {
    background: #1e1e1e;
    border: 1px solid #333;
    padding: 10px;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
    width: 160px;
    animation: fadeIn 0.15s ease-out;
    z-index: 1000;
}

.quick-menu button {
    background: #2a2a2a;
    color: #f1f1f1;
    border: none;
    padding: 10px;
    cursor: pointer;
    width: 100%;
    margin-top: 6px;
    border-radius: 6px;
    transition: background 0.2s ease;
    font-size: 14px;
}

.quick-menu button:first-child {
    margin-top: 0;
}

.quick-menu button:hover {
    background: #4caf50;
    color: #fff;
}

.progress-container {
    width: 100%;
    height: 20px;
    background: #222;
    border-radius: 10px;
    overflow: hidden;
    margin-top: 1rem;
}

.progress-bar {
    height: 100%;
    width: 100%;
    background: limegreen;
    transition: width 0.1s linear;
}
.assign-car-card.on-cooldown {
    opacity: 0.7;
    position: relative;
    cursor: not-allowed;
}

.assign-car-card.on-cooldown::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.3);
}

.cooldown-timer {
    color: #ff6b6b;
    font-size: 12px;
    margin-top: 5px;
}
      /* Add to your CSS */
.card.glow {
    animation: glow 2s infinite alternate;
    position: relative;
}

@keyframes glow {
    from {
        box-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
    }
    to {
        box-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
    }
}

#renameModal .modal-content {
    max-width: 400px;
}

#customCarName {
    width: 100%;
    padding: 10px;
    margin: 10px 0;
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 4px;
}
      #renameCarBtn {
    margin-top: 10px;
    background-color: #4a6da7;
}

#renameCarBtn:hover {
    background-color: #5a7db7;
}
     .race-dot {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    position: absolute;
    cursor: pointer;
    transition: transform 0.1s;
}

.race-dot:active {
    transform: scale(1.2);
}

#dot-container {
    position: relative;
    width: 100%;
    height: 300px;
    border: 1px solid #ccc;
    margin: 20px 0;
    overflow: hidden;
} 
.ban-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #0d0d0d;
  z-index: 9999;
  display: none;
  justify-content: center;
  align-items: center;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: #f2f2f2;
}

.ban-modal {
  background-color: #1a1a1a;
  border-radius: 12px;
  padding: 40px;
  max-width: 600px;
  width: 90%;
  text-align: left;
  box-shadow: 0 0 25px rgba(255, 0, 0, 0.6);
  border: 2px solid #e60000;
}

.ban-title {
  color: #ff4d4d;
  font-size: 2.2rem;
  margin-bottom: 25px;
  border-bottom: 1px solid #333;
  padding-bottom: 10px;
}

.ban-content {
  font-size: 1rem;
  line-height: 1.8;
}

.ban-reason,
.ban-duration,
.ban-userid {
  margin-bottom: 18px;
}

.ban-message {
  margin-top: 30px;
  font-size: 0.95rem;
  color: #cccccc;
}

.ban-button {
  margin-top: 35px;
  background-color: #e60000;
  color: white;
  border: none;
  padding: 12px 36px;
  font-size: 1rem;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.ban-button:hover {
  background-color: #b30000;
}

body.banned {
  overflow: hidden;
  height: 100vh;
}

body.banned *:not(.ban-overlay):not(.ban-overlay *) {
  display: none !important;
}
/* Add to your stylesheet */
.special-job {
    position: relative;
    border: 2px solid gold;
    animation: pulse-glow 2s infinite;
}

.special-job .job-header {
    color: #FFD700;
}

.special-job-icon {
    font-size: 24px;
    margin-left: 10px;
    display: inline-block;
}

.special-requirements {
    color: #FFA500;
    font-weight: bold;
    margin-top: 5px;
}

.requirement-stat {
    font-size: 12px;
    margin: 2px 0;
}

.requirement-met {
    color: #2ecc71;
}

.requirement-missed {
    color: #e74c3c;
}

.requirements-warning {
    color: #e74c3c;
    font-size: 12px;
    font-weight: bold;
}

.requirements-insufficient {
    opacity: 0.7;
    border: 1px dashed #e74c3c;
}

@keyframes pulse-glow {
    0% { box-shadow: 0 0 10px rgba(255, 215, 0, 0.7); }
    50% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.9); }
    100% { box-shadow: 0 0 10px rgba(255, 215, 0, 0.7); }
}

/* Repair Tab Styles */
.repair-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 15px;
}

.car-status {
    display: flex;
    flex-direction: column;
    gap: 20px;
    background: rgba(0, 0, 0, 0.1);
    padding: 15px;
    border-radius: 8px;
}

@media (min-width: 768px) {
    .car-status {
        flex-direction: row;
    }
}

.status-info {
    flex: 1;
}

.status-item {
    margin-bottom: 15px;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

@media (min-width: 480px) {
    .status-item {
        flex-direction: row;
        align-items: center;
    }
}

.status-label {
    font-weight: bold;
    min-width: 80px;
}

.health-container {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
}

.health-bar {
    flex: 1;
    height: 20px;
    min-width: 100px;
    background: #e0e0e0;
    border-radius: 10px;
    overflow: hidden;
}

.health-bar-fill {
    height: 100%;
    background: #4CAF50;
    transition: width 0.3s ease;
}

.health-value {
    min-width: 40px;
    text-align: right;
}

.repair-options {
    background: rgba(0, 0, 0, 0.1);
    padding: 15px;
    border-radius: 8px;
}

.repair-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 15px;
    margin-top: 15px;
}

@media (min-width: 600px) {
    .repair-grid {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }
}

.repair-option {
    background: var(--bg-tertiary);
    padding: 15px;
    color: white;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(77, 77, 77, 0.1);
    display: flex;
    flex-direction: column;
}

.repair-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.repair-cost {
    font-weight: bold;
    color: #4CAF50;
}

.repair-details {
    flex: 1;
    margin-bottom: 15px;
}

.repair-details p {
    margin: 5px 0;
    font-size: 0.9em;
    color: white;
}

.repair-btn {
    margin-top: auto;
    width: 100%;
    padding: 10px;
    font-size: 1em;
}
.logo-icon {
    width: 30px;
    height: 30px;
    vertical-align: middle;
    margin-right: 8px;
}
#changelogToggleBtn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    border: 1px solid var(--border);
    padding: 10px 14px;
    border-radius: 10px;
    box-shadow: var(--card-shadow);
    cursor: pointer;
    z-index: 999;
    transition: var(--transition);
    font-size: 14px;
}

#changelogToggleBtn:hover {
    background-color: var(--bg-tertiary);
    box-shadow: var(--card-shadow-hover);
}

.changelog-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--modal-overlay);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.changelog-content {
    background-color: var(--bg-primary);
    color: var(--text-primary);
    padding: 24px;
    border-radius: 16px;
    box-shadow: var(--card-shadow-hover);
    width: 90%;
    max-width: 750px;
    max-height: 90%;
    overflow-y: auto;
    position: relative;
}

.changelog-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid var(--border);
    margin-bottom: 16px;
}

.changelog-tabs {
    display: flex;
    gap: 12px;
}

.changelog-tab {
    padding: 10px 16px;
    cursor: pointer;
    border-radius: 6px 6px 0 0;
    background-color: transparent;
    color: var(--text-secondary);
    transition: var(--transition);
}

.changelog-tab.active {
    background-color: var(--bg-secondary);
    color: var(--primary);
    font-weight: bold;
}

.changelog-tab:hover {
    color: var(--primary-dark);
}

.changelog-close {
    background: none;
    border: none;
    color: var(--text-secondary);
    font-size: 20px;
    cursor: pointer;
    transition: var(--transition);
}

.changelog-close:hover {
    color: var(--error);
}

.changelog-body h2 {
    margin-top: 10px;
    font-size: 22px;
    color: var(--primary);
}

.changelog-body h3 {
    margin-top: 20px;
    color: var(--accent);
    font-size: 18px;
    border-bottom: 1px solid var(--border);
    padding-bottom: 4px;
}

.changelog-body ul {
    margin-top: 8px;
    padding-left: 20px;
    color: var(--text-secondary);
}

.changelog-body li {
    margin-bottom: 6px;
}

.changelog-body img {
    width: 100%;
    border-radius: 10px;
    margin-bottom: 16px;
}
.feature-title {
    font-weight: 600;
    color: var(--text-primary);
    margin-top: 8px;
    margin-bottom: 4px;
    font-size: 16px;
}

.sub-feature-list {
    margin-left: 16px;
    margin-bottom: 12px;
    font-size: 14px;
    color: var(--text-secondary);
}

.changelog-tab {
    padding: 8px 14px;
    background: var(--bg-tertiary);
    color: var(--text-secondary);
    cursor: pointer;
    margin-right: 8px;
    border-radius: 6px;
    transition: var(--transition);
}

.changelog-tab.active {
    background: var(--primary-dark);
    color: white;
    font-weight: bold;
}


.hidden {
    display: none;
}

/* Condition indicators */
.condition-value.excellent { color: #4CAF50; }
.condition-value.good { color: #8BC34A; }
.condition-value.fair { color: #FFC107; }
.condition-value.poor { color: #FF9800; }
.condition-value.bad { color: #F44336; }
  </style>
</head>
<body class="dark-mode">
    <header>
        <div class="header-content container">
           <div class="logo">
    <img src="https://cdn.glitch.global/d90d2e0e-f080-4624-a28d-9238202ed552/2025_04_13_0xl_Kleki.png?v=1744589448822" alt="Logo Icon" class="logo-icon">
    <span>KwpidCars</span>
</div>
          <button id="changelogToggleBtn" onclick="showChangelog(currentChangelogVersion)">📜 Changelogs</button>

            <div class="header-actions">
                <div class="balance">
                    <span class="balance-icon">$</span>
                    <span id="playerBalance">100,000</span>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
      <div class="tabs">
    <button class="tab active" data-tab="inventory">Inventory</button>
    <button class="tab" data-tab="marketplace">Marketplace</button>
    <button class="tab" data-tab="missions">Missions</button> <!-- New Missions tab -->
    <button class="tab" data-tab="index">Index</button>
    <button class="tab" data-tab="settings">Settings</button>
</div>
<div id="inventory" class="tab-content active">
    <h2>Your Collection</h2>
    <div class="inventory-controls">
        <div class="search-box">
            <input type="text" id="inventorySearch" placeholder="Search cars...">
            <button id="clearSearch">✕</button>
        </div>
        <select id="rarityFilter">
            <option value="all">All Rarities</option>
            <option value="mythic">Mythic</option>
            <option value="legendary">Legendary</option>
            <option value="rare">Rare</option>
            <option value="uncommon">Uncommon</option>
            <option value="common">Common</option>
        </select>
        <select id="tagFilter">
            <option value="all">All Types</option>
            <option value="limited">Limited</option>
            <option value="off-sale">Off-sale</option>
        </select>
        <select id="sortBy">
            <option value="default">Sort: Default</option>
            <option value="name-asc">Sort: Name (A-Z)</option>
            <option value="name-desc">Sort: Name (Z-A)</option>
            <option value="value-asc">Sort: Value (Low-High)</option>
            <option value="value-desc">Sort: Value (High-Low)</option>
            <option value="rarity-asc">Sort: Rarity (Low-High)</option>
            <option value="rarity-desc">Sort: Rarity (High-Low)</option>
            <option value="ovr-asc">Sort: OVR (Low-High)</option>
            <option value="ovr-desc">Sort: OVR (High-Low)</option>
        </select>
    </div>
    <div class="inventory-grid" id="inventoryGrid">
        <div class="empty-message">Your inventory is empty. Buy packs from the Marketplace to get started!</div>
    </div>
</div>

<div id="marketplace" class="tab-content">
    <section id="limitedShopSection">
        <h2>🕒 Limited Shop <span id="limitedShopTimer"></span></h2>
        <div class="marketplace-grid" id="limitedShopGrid">
            <!-- Limited shop packs will be populated here -->
        </div>
    </section>

    <h2>Available Packs</h2>
    <div class="marketplace-grid" id="marketplaceGrid">
        <!-- Packs will be populated here -->
    </div>
</div>


        <div id="index" class="tab-content">
            <h2>Car Index</h2>
            <table class="index-table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Brand</th>
                        <th>Rarity</th>
                        <th>PWR</th>
                        <th>SPD</th>
                        <th>HDL</th>
                       <th>STR</th>
                        <th>OVR</th>
                        <th>Value</th>
                    </tr>
                </thead>
                <tbody id="indexTableBody">
                    <!-- Index data will be populated here -->
                </tbody>
            </table>
        </div>
      <div id="settings" class="tab-content">
    <h2>Settings</h2>
<div class="settings-tabs">
    <button class="settings-tab active" data-subtab="main">Main</button>
    <button class="settings-tab" data-subtab="data">Data</button>
    <button class="settings-tab" data-subtab="transactions">Transactions</button>
    <button class="settings-tab" data-subtab="rewards">Rewards</button>
  
</div>
    
    <div class="settings-subcontent">
        <!-- Main Settings -->
        <div id="settings-main" class="settings-subtab active">
          
            <div class="settings-section">
                <h3>Appearance</h3>
                <div class="settings-option">
                    <label>Theme:</label>
                    <div class="theme-options">
                        <button class="theme-option dark" data-theme="dark">Dark</button>
                        <button class="theme-option light" data-theme="light">Light</button>
                    </div>
                </div>
                <div class="settings-option">
                    <label for="fontSelect">Font:</label>
                    <select id="fontSelect" class="settings-select">
                        <option value="'Google Sans', 'Segoe UI', Roboto, sans-serif">Default</option>
                        <option value="Arial, sans-serif">Arial</option>
                        <option value="'Helvetica Neue', sans-serif">Helvetica</option>
                        <option value="'Times New Roman', serif">Times New Roman</option>
                        <option value="Georgia, serif">Georgia</option>
                        <option value="'Courier New', monospace">Courier New</option>
                    </select>
                </div>
            </div>
            
  <div class="settings-section">
    <h3>Notification Settings</h3>
    <div class="settings-option">
        <label>
            <input type="checkbox" id="notificationsToggle" checked>
            Enable All Notifications
        </label>
    </div>
    <div class="notification-types">
      <div class="settings-section">
    <h3>Job Notification Settings</h3>
    <div class="notification-types">
        <div class="settings-option">
            <label>
                <input type="checkbox" class="job-notification-type" data-type="new-job" checked>
                New Jobs Available
            </label>
        </div>
        <div class="settings-option">
            <label>
                <input type="checkbox" class="job-notification-type" data-type="sent-car" checked>
                Sent Car On Mission
            </label>
        </div>
        <div class="settings-option">
            <label>
                <input type="checkbox" class="job-notification-type" data-type="ready-collect" checked>
                Ready to Collect
            </label>
        </div>
    </div>
   
        <div class="settings-section">
           <h3>Race Notification Settings</h3>
    <div class="notification-types">
        <div class="settings-option">
            <label>
                <input type="checkbox" class="notification-type" data-type="new-race" checked>
                New Race Available
            </label>
        </div>
        <div class="settings-option">
    <label>
        <input type="checkbox" class="notification-type" data-type="race-complete" checked>
        Complete Race
    </label>
</div>
<div class="settings-option">
    <label>
        <input type="checkbox" class="notification-type" data-type="race-fail" checked>
        Failed Race
    </label>
</div>
    </div>
        </div>
</div>
        <div class="settings-option">
            <label>
                <input type="checkbox" class="notification-type" data-type="purchase" checked>
                Pack Purchase Notifications
            </label>
        </div>

        <div class="settings-option">
            <label>
                <input type="checkbox" class="notification-type" data-type="rare-pul" checked>
                Rare Pull
            </label>
        </div>
        <div class="settings-option">
            <label>
                <input type="checkbox" class="notification-type" data-type="sale" checked>
                Card Sale Notifications
            </label>
        </div>
        <div class="settings-option">
            <label>
                <input type="checkbox" class="notification-type" data-type="income" checked>
                Passive Income Notifications
            </label>
        </div>
        <div class="settings-option">
            <label>
                <input type="checkbox" class="notification-type" data-type="collection" checked>
                Collection Milestones
            </label>
        </div>
        <div class="settings-option">
            <label>
                <input type="checkbox" class="notification-type" data-type="error" checked>
                Error Notifications
            </label>
        </div>
    </div>
</div>

<!-- New Accessibility Section -->
<div class="settings-section">
    <h3>Accessibility</h3>
    <div class="settings-option">
        <label>
            <input type="checkbox" id="animationToggle" checked>
            Enable Animations
        </label>
    </div>
    <div class="settings-option">
        <label>
            <input type="checkbox" id="reducedMotionToggle">
            Reduced Motion Mode (Not Available)
        </label>
    </div>
    <div class="settings-option">
        <label>
            <input type="checkbox" id="debugModeToggle">
            Debug Mode (Developer Console)
        </label>
    </div>
</div>

            </div>
        <!-- Data Settings -->
        <div id="settings-data" class="settings-subtab">
    <!-- Main Data Section -->
    <div id="main-data-section" class="data-section active">
        <div class="settings-section">
            <h3>Game Data</h3>
            <div class="settings-option">
                <button class="btn btn-primary" id="saveGameBtn">Save Game</button>
                <button class="btn btn-warning" id="resetGameBtn">Reset Game</button>
            </div>
            <div id="saveMessage" class="redeem-message" style="display: none;"></div>
        </div>
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Total Cars Collected</div>
                <div class="stat-value" id="totalCarsStat">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Packs Opened</div>
                <div class="stat-value" id="packsOpenedStat">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Peak Cash</div>
                <div class="stat-value" id="peakCashStat">$0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Highest Value Car</div>
                <div class="stat-value" id="highestValueCarStat">None</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Rarest Car</div>
                <div class="stat-value" id="rarestCarStat">None</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Play Time</div>
                <div class="stat-value" id="playTimeStat">0 minutes</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Total Miles Driven</div>
                <div class="stat-value" id="totalMilesStat">0 miles</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Car with Most Miles</div>
                <div class="stat-value" id="mostMilesCarStat">None</div>
            </div>
        </div>
    </div>
          <div class="settings-section"></div>
    <!-- Jobs Data Section -->
    <div id="jobs-data-section" class="data-section">

            <h3>Job Statistics</h3>
 
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Total Jobs Completed</div>
                <div class="stat-value" id="totalJobsStat">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Total Job Earnings</div>
                <div class="stat-value" id="totalJobEarningsStat">$0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Highest Paying Job</div>
                <div class="stat-value" id="highestPayingJobStat">None</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Most Used Job Car</div>
                <div class="stat-value" id="mostUsedJobCarStat">None</div>
            </div>
  
            <div class="stat-card">
                <div class="stat-label">Average Job Time</div>
                <div class="stat-value" id="avgJobTimeStat">0 minutes</div>
            </div>
        </div>
    </div>
          <div class="settings-section"></div>
    <!-- Races Data Section -->
    <div id="races-data-section" class="data-section">
            <h3>Race Statistics</h3>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Total Races Completed</div>
                <div class="stat-value" id="totalRacesStat">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Total Race Earnings</div>
                <div class="stat-value" id="totalRaceEarningsStat">$0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Highest Paying Race</div>
                <div class="stat-value" id="highestPayingRaceStat">None</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Most Used Race Car</div>
                <div class="stat-value" id="mostUsedRaceCarStat">None</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Win Rate</div>
                <div class="stat-value" id="winRateStat">0%</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Most Used Track</div>
                <div class="stat-value" id="favoriteTrackStat">None</div>
            </div>
        </div>
    </div>

  
</div>

        
        <!-- In the transactions tab section -->
<div id="settings-transactions" class="settings-subtab">
    <div class="transaction-filters">
        <div class="filter-group">
            <label>Type:</label>
            <select id="transactionTypeFilter" class="settings-select">
                <option value="all">All</option>
                <option value="purchase">Purchases</option>
                <option value="sale">Sales</option>
                <option value="payment">Payments</option>
                <option value="job">Jobs</option>
                <option value="code">Codes</option>
            </select>
        </div>
        <div class="filter-group">
            <label>Price Range:</label>
            <select id="transactionPriceFilter" class="settings-select">
                <option value="all">All</option>
                <option value="0-1000">$0 - $1,000</option>
                <option value="1001-5000">$1,001 - $5,000</option>
                <option value="5001-10000">$5,001 - $10,000</option>
                <option value="10001+">$10,001+</option>
            </select>
        </div>
        <div class="filter-group">
            <label>Search:</label>
            <input type="text" id="transactionSearch" class="settings-input" placeholder="Search transactions...">
        </div>
    </div>
    
    <table class="transaction-table">
        <thead>
            <tr>
                <th>Date</th>
                <th>Type</th>
                <th>Item</th>
                <th>Amount</th>
            </tr>
        </thead>
        <tbody id="transactionTableBody">
            <!-- Transactions will be populated here -->
        </tbody>
    </table>
    
    <!-- Add pagination controls -->
    <div class="pagination-controls">
        <button id="prevPageBtn" class="btn btn-accent" disabled>Previous</button>
        <span id="pageInfo">Page 1 of 1</span>
        <button id="nextPageBtn" class="btn btn-accent" disabled>Next</button>
    </div>
</div>
      <!-- Add the Rewards subtab content -->
<div id="settings-rewards" class="settings-subtab">
    <div class="settings-section">
        <h3>Redeem Code</h3>
        <div class="redeem-code-container">
            <div class="settings-option">
                <label for="redeemCodeInput">Enter Code:</label>
                <input type="text" id="redeemCodeInput" class="settings-input" placeholder="Enter your code here">
            </div>
            <button class="btn btn-primary" id="redeemCodeBtn">Redeem</button>
            <div class="redeem-message" id="redeemMessage"></div>
        </div>
    </div>
</div>
    </div>
      </div>
      <!-- Add this with the other tab contents -->
<div id="missions" class="tab-content">
    <h2>Missions</h2>
    <div class="mission-tabs">
        <button class="mission-tab active" data-subtab="jobs">Jobs</button>
        <button class="mission-tab" data-subtab="races">Races</button>
    </div>
    <div class="mission-subcontent">
        <div id="jobs-subtab" class="mission-subtab active">
            <div class="jobs-container" id="jobsContainer">
                <!-- Jobs will be populated here -->
                <div class="empty-message">No jobs available yet. Check back soon!</div>
            </div>
        </div>
        <div id="races-subtab" class="mission-subtab">
             <div id="racesContainer" class="races-container"></div>
          <div class="empty-message2">No races available yet. Check back soon!</div>
        </div>
    </div>
</div>
</div>

   
   
    <!-- Pack Contents Modal -->
    <div id="packContentsModal" class="modal">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <div class="modal-title">
                <h2 id="packModalTitle">Pack Contents</h2>
            </div>
            <div class="pack-contents" id="packContents">
                <!-- Pack contents will be populated here -->
            </div>
        </div>
    </div>

    <!-- Pack Opening Modal -->
    <div id="packOpeningModal" class="modal">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <div class="opening-animation" id="openingAnimation">
                <!-- Opening animation will be shown here -->
            </div>
        </div>
    </div>

    <!-- Card Inspection Modal (Inventory) -->
    <div id="inventoryCardModal" class="modal">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <div class="modal-body" id="inventoryCardBody">
                <div class="modal-card">
                    <img src="" alt="Car Image" class="modal-card-image">
                    <div class="modal-card-details">
                      
                        <div class="modal-card-header">
    <div class="modal-card-title">
        <div style="display: flex; align-items: center; gap: 8px;">
            <div class="modal-card-name" id="inventoryCardName"></div>
            <span class="card-rarity" id="inventoryCardRarity"></span>
        </div>
        <div class="modal-card-brand" id="inventoryCardBrand"></div>
        <div class="modal-card-meta" id="inventoryCardMeta"></div>
    </div>
</div>

                        <!-- Tab Navigation -->
                        <div class="inventory-tabs">
                            <button class="inventory-tab active" data-tab="details">Details</button>
                            <button class="inventory-tab" data-tab="performance">Performance</button>
                
                        </div>

                        <!-- Tab Content -->
                        <div class="inventory-tab-content active" id="details-tab">
                            <div class="modal-card-description" id="inventoryCardDescription"></div>
                            
                            <!-- Replace the storage-comparison div with this: -->
<div class="storage-display">
    <div class="storage-title">Storage Capacity</div>
    <div class="storage-bar-container">
        <div class="storage-bar" id="storageBar"></div>
    </div>
    <div class="storage-value" id="storageValue"></div>
</div>
                          
                        </div>

                        <div class="inventory-tab-content" id="performance-tab">
                            <div class="modal-stat-grid">
                                <div class="modal-stat">
                                    <div class="modal-stat-header">
                                        <div class="modal-stat-label">Power</div>
                                        <div class="modal-stat-value" id="powerValue"></div>
                                    </div>
                                    <div class="modal-stat-bar">
                                        <div class="modal-stat-bar-fill" id="powerBar"></div>
                                    </div>
                                </div>
                                <div class="modal-stat">
                                    <div class="modal-stat-header">
                                        <div class="modal-stat-label">Speed</div>
                                        <div class="modal-stat-value" id="speedValue"></div>
                                    </div>
                                    <div class="modal-stat-bar">
                                        <div class="modal-stat-bar-fill" id="speedBar"></div>
                                    </div>
                                </div>
                                <div class="modal-stat">
                                    <div class="modal-stat-header">
                                        <div class="modal-stat-label">Handling</div>
                                        <div class="modal-stat-value" id="handlingValue"></div>
                                    </div>
                                    <div class="modal-stat-bar">
                                        <div class="modal-stat-bar-fill" id="handlingBar"></div>
                                    </div>
                                </div>
                                <div class="modal-stat">
                                    <div class="modal-stat-header">
                                        <div class="modal-stat-label">Overall</div>
                                        <div class="modal-stat-value" id="overallValue"></div>
                                    </div>
                                    <div class="modal-stat-bar">
                                        <div class="modal-stat-bar-fill" id="overallBar"></div>
                                    </div>
                                  
                                </div>
                              
                            </div>
                        </div>

                        

                        <div class="modal-card-footer">
                            <div class="inventory-card-actions">
                                <button class="btn btn-primary" id="customizeCardBtn">
                                    <span>🖌️</span> Customize
                                </button>
                                <button class="btn btn-warning" id="sellCardBtn">
                                    <span>💰</span> Sell
                                </button>
                                                        <button id="renameCarBtn" class="btn btn-accent">
    <span>✏️</span> Rename
</button>
              
                            </div>
                            <div class="card-info">
  <div class="card-obtained" id="obtainedDate"></div>
  <span class="dot-separator">&#8226;</span>
  <div class="card-mileage" id="inventoryCardMileage">Mileage: 0 miles</div>
</div>
          </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Card Inspection Modal (Index) -->
    <div id="indexCardModal" class="modal">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <div class="modal-title">
                <h2 id="indexCardTitle">Card Information</h2>
                <span class="card-rarity" id="indexCardRarity">Rare</span>
            </div>
            <div class="modal-body" id="indexCardBody">
                <!-- Index card details will be populated here -->
            </div>
        </div>
    </div>

    <!-- Confirmation Dialog -->
    <div id="confirmationDialog" class="confirmation-dialog">
        <div class="confirmation-content">
            <div class="confirmation-title" id="confirmationTitle">Confirm Action</div>
            <div class="confirmation-message" id="confirmationMessage">Are you sure you want to perform this action?</div>
            <div class="confirmation-actions">
                <button class="btn btn-primary" id="confirmOk">OK</button>
                <button class="btn btn-warning" id="confirmCancel">Cancel</button>
            </div>
        </div>
    </div>
    
    <div id="customizationModal" class="modal">
        <div class="modal-content">
            <!-- Close Button -->
            <button class="close-modal" aria-label="Close Modal">&times;</button>
    
            <!-- Title -->
            <div class="modal-title">
                <h2 id="customizationTitle">Customize Car</h2>
            </div>
    
            <!-- Tab Navigation -->
            <div class="customization-tabs">
                <button class="customization-tab active" data-tab="customize">Customize</button>
                <button class="customization-tab" data-tab="upgrade">Upgrades</button>
                <button class="customization-tab" data-tab="repair">Repairs</button>
            </div>
    
            <!-- Modal Body -->
            <div class="modal-body" id="customizationBody">
                <!-- Customize Tab -->
                <div id="customize-tab" class="customization-tab-content active">
                    <div class="customization-container">
                        <!-- Car Preview -->
                        <div class="customization-left">
                            <div class="car-preview">
                                <img id="customizationCarImage" src="" alt="Car Preview" class="modal-card-image">
                            </div>
                        </div>
    
                        <!-- Customization Options -->
                        <div class="customization-right">
                            <!-- Colors Section -->
                            <div class="colors-section">
                                <h3>Colors</h3>
                                <div class="color-grid" id="colorOptions">
                                    <!-- Color swatches will appear here -->
                                </div>
                            </div>
    
                            <!-- Transaction Overview -->
                            <div class="transaction-overview">
                                <h3>Transaction</h3>
                                <div class="transaction-items" id="transactionItems">
                                    <!-- Itemized costs populated here -->
                                </div>
                                <div class="transaction-total">
                                    <span>Total:</span> <span class="cost-amount" id="transactionTotal">$0</span>
                                </div>
                            </div>
    
                            <!-- Apply Button -->
                            <button class="btn btn-primary" id="applyCustomizationBtn">
                                <span>💳</span> Purchase & Apply
                            </button>
                        </div>
                    </div>
                </div>
    
                <!-- Upgrade Tab -->
                <div id="upgrade-tab" class="customization-tab-content">
                    <div class="upgrade-container">
                        <!-- Upgrade Stats -->
                        <div class="upgrade-stats" id="upgradeStats">
                            <!-- Upgrade stats will be inserted here -->
                        </div>
    
                        <!-- Upgrade Preview -->
                        <div class="upgrade-preview">
                            <img id="upgradeCarImage" src="" alt="Upgrade Preview" class="modal-card-image">
                            <div class="upgrade-overall">
                                Overall: <span id="upgradeOVR">0</span>
                            </div>
                        </div>
                    </div>
                </div>
    
                <!-- New Repair Tab -->
                <div id="repair-tab" class="customization-tab-content">
                    <div class="repair-container">
                        <!-- Car Status -->
                        <div class="car-status">
                            <div class="car-preview">
                                <img id="repairCarImage" src="" alt="Car Preview" class="modal-card-image">
                            </div>
                            <div class="status-info">
                                <h3>Vehicle Status</h3>
                                <div class="status-item">
                                    <span class="status-label">Health:</span>
                                    <div class="health-container">
                                        <div class="health-bar">
                                            <div class="health-bar-fill" id="healthBarFill" style="width: 100%"></div>
                                        </div>
                                        <span class="health-value" id="healthValue">100%</span>
                                    </div>
                                </div>
                                <div class="status-item">
                                    <span class="status-label">Mileage: </span>
                                    <span class="mileage-value" id="mileageValue">0</span> miles
                                </div>
                                <div class="status-item">
                                    <span class="status-label">Condition: </span>
                                    <span class="condition-value" id="conditionValue"> Excellent</span>
                                </div>
                            </div>
                        </div>
    
                        <!-- Repair Options -->
                        <div class="repair-options">
                            <h3>Repair Services</h3>
                            <div class="repair-grid">
                                <!-- Slight Repair -->
                                <div class="repair-option">
                                    <div class="repair-header">
                                        <h4>Slight Repair</h4>
                                        <span class="repair-cost">$5,000</span>
                                    </div>
                                    <div class="repair-details">
                                        <p>Restores 25% health</p>
                                        <p>Basic maintenance and minor fixes</p>
                                    </div>
                                    <button class="btn btn-primary repair-btn" data-repair-type="slight">
                                        <span>🔧</span> Purchase
                                    </button>
                                </div>
    
                                <!-- Moderate Repair -->
                                <div class="repair-option">
                                    <div class="repair-header">
                                        <h4>Moderate Repair</h4>
                                        <span class="repair-cost">$8,000</span>
                                    </div>
                                    <div class="repair-details">
                                        <p>Restores 50% health</p>
                                        <p>Includes part replacements</p>
                                    </div>
                                    <button class="btn btn-primary repair-btn" data-repair-type="moderate">
                                        <span>🛠️</span> Purchase
                                    </button>
                                </div>
    
                                <!-- Full Repair -->
                                <div class="repair-option">
                                    <div class="repair-header">
                                        <h4>Full Repair</h4>
                                        <span class="repair-cost">$15,000</span>
                                    </div>
                                    <div class="repair-details">
                                        <p>Restores to 100% health</p>
                                        <p>Complete overhaul and detailing</p>
                                    </div>
                                    <button class="btn btn-primary repair-btn" data-repair-type="full">
                                        <span>🏎️</span> Purchase
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<div id="quickMenu" style="position: absolute; display: none; z-index: 9999;" class="quick-menu">
   <button id="quickSellBtn">Sell</button>
  <button id="quickSellAllBtn">Sell All (Variants)</button>
  <button id="quickSearchBtn">Search</button>
</div>

<div id="renameModal" class="modal">
    <div class="modal-content">
        <button class="close-modal">&times;</button>
        <h2 id="renameModalTitle">Rename Your Car</h2>
        <p id="renameModalText">You can now give this car a custom name (1-20 characters)</p>
        <input type="text" id="customCarName" maxlength="20" placeholder="Enter custom name">
        <div class="modal-actions">
            <button id="confirmRenameBtn" class="btn btn-primary">Confirm</button>
            <button id="cancelRenameBtn" class="btn btn-secondary">Cancel</button>
        </div>
    </div>
</div>
<div id="banOverlay" class="ban-overlay">
  <div class="ban-modal">
    <h1 class="ban-title">Account Suspended</h1>
    <div class="ban-content">
      <p class="ban-reason"><strong>Reason:</strong> <span id="banReasonText"></span></p>
      <p class="ban-duration"><strong>Suspension Length:</strong> <span id="banDurationText"></span></p>
     <div id="banUserId" class="user-id-display"></div>

      <p class="ban-message">
        Our moderators have determined that your behavior violated the community guidelines.
        If you believe this action was taken in error, please contact our support team and provide your User ID for reference.
      </p>
    </div>
    <button id="banOkButton" class="ban-button">Acknowledge</button>
  </div>
</div>
<div id="changelogModal" class="changelog-modal hidden">
    <div class="changelog-content">
        <div class="changelog-header">
            <div class="changelog-tabs" id="changelogTabs"></div>
            <button class="changelog-close" onclick="closeChangelog()">✕</button>
        </div>
        <div class="changelog-body" id="changelogBody"></div>
    </div>
</div>
<script src="script.js"></script>
<script>
const currentChangelogVersion = 'ChangeLogsV1';

const changelogs = {
    ChangeLogsV1: {
        name: 'Update 1 - Release Notes',
        timestamp: '2025-04-13T10:00:00Z',
        image: 'https://cdn.glitch.global/d90d2e0e-f080-4624-a28d-9238202ed552/2025_04_13_0y5_Kleki.png?v=1744591151545',
        features: {
            'New Features': [
                { title: 'Core Gameplay Loop', details: [
                    'Buy packs, collect cars, and build your inventory',
                    'Dynamic pricing system adjusts pack values based on rarity'
                ]},
                { title: 'Jobs System', details: [
                    'Assign cars to jobs to earn cash',
                    'Special jobs with unique requirements',
                    'Track job stats and earnings'
                ]},
                { title: 'Racing Minigames', details: [
                    'Quick-time event challenges for desktop',
                    'Tap-based minigames for mobile',
                    'Car cooldowns between races'
                ]},
                { title: 'Inventory Management', details: [
                    'Sort/filter by rarity, value, or stats',
                    'Quick-sell options',
                    'Custom naming for high-mileage cars'
                ]},
                { title: 'Player Stats', details: [
                    'Track packs opened, peak cash, playtime',
                    'Job and race performance metrics'
                ]}
            ],
            'Coming Soon': [
                { title: 'More car customization options' },
                { title: 'Car pinning / favoriting' },
                { title: 'Trading' }
            ]
        }
    }
};


function showChangelog(version) {
    const modal = document.getElementById('changelogModal');
    const body = document.getElementById('changelogBody');
    const tabs = document.getElementById('changelogTabs');

    const sortedVersions = Object.keys(changelogs).sort((a, b) => {
        return new Date(changelogs[b].timestamp) - new Date(changelogs[a].timestamp);
    });

    tabs.innerHTML = '';
    sortedVersions.forEach(v => {
        const tab = document.createElement('div');
        tab.className = 'changelog-tab' + (v === version ? ' active' : '');
        tab.textContent = changelogs[v].name;
        tab.onclick = () => showChangelog(v);
        tabs.appendChild(tab);
    });

    const data = changelogs[version];
    let sections = '';

    for (const [section, items] of Object.entries(data.features)) {
        sections += `<h3>${section}</h3><div class="feature-block">`;
        items.forEach(item => {
            if (typeof item === 'string') {
                sections += `<div class="feature-title">${item}</div>`;
            } else {
                sections += `<div class="feature-title">${item.title}</div>`;
                if (item.details && item.details.length) {
                    sections += `<ul class="sub-feature-list">${item.details.map(detail => `<li>${detail}</li>`).join('')}</ul>`;
                }
            }
        });
        sections += `</div>`;
    }

    const formattedDate = new Date(data.timestamp).toLocaleDateString(undefined, {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    });

    body.innerHTML = `
        <img src="${data.image}" alt="Changelog Header">
        <h2>${data.name}</h2>
        <p style="color: var(--text-tertiary); font-size: 14px; margin-top: -10px;">${formattedDate}</p>
        ${sections}
    `;

    modal.classList.remove('hidden');
}

function closeChangelog() {
    document.getElementById('changelogModal').classList.add('hidden');
    localStorage.setItem('changelogSeen', currentChangelogVersion);
}

window.addEventListener('load', () => {
    const seen = localStorage.getItem('changelogSeen');
    if (seen !== currentChangelogVersion) {
        showChangelog(currentChangelogVersion);
    }
});


  
  </script>
    <!-- Notification Container -->
    <div class="notifications" id="notifications"></div>

    <script>
     initGame();
    </script>
</body>
</html>
